(this["webpackJsonpecommerce-admin"]=this["webpackJsonpecommerce-admin"]||[]).push([[38],{101:function(e,t){var a,n,s=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function c(e){if(a===setTimeout)return setTimeout(e,0);if((a===r||!a)&&setTimeout)return a=setTimeout,setTimeout(e,0);try{return a(e,0)}catch(t){try{return a.call(null,e,0)}catch(t){return a.call(this,e,0)}}}!function(){try{a="function"===typeof setTimeout?setTimeout:r}catch(e){a=r}try{n="function"===typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var o,l=[],d=!1,u=-1;function m(){d&&o&&(d=!1,o.length?l=o.concat(l):u=-1,l.length&&p())}function p(){if(!d){var e=c(m);d=!0;for(var t=l.length;t;){for(o=l,l=[];++u<t;)o&&o[u].run();u=-1,t=l.length}o=null,d=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function h(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)t[a-1]=arguments[a];l.push(new f(e,t)),1!==l.length||d||c(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=h,s.addListener=h,s.once=h,s.off=h,s.removeListener=h,s.removeAllListeners=h,s.emit=h,s.prependListener=h,s.prependOnceListener=h,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},1277:function(e,t,a){"use strict";a.r(t);a(0);var n=a(25),s=a(40),r=a(96),i=a(166),c=a(169),o=a(199),l=a.p+"static/media/login-office.c7786a89.jpeg",d=a.p+"static/media/login-office-dark.c7786a89.jpeg",u=a(740),m=a(3);t.default=()=>{const{t:e}=Object(r.a)(),{onSubmit:t,register:a,handleSubmit:p,errors:f,loading:h}=Object(u.a)();return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"flex items-center min-h-screen p-6 bg-gray-50 dark:bg-gray-900",children:Object(m.jsx)("div",{className:"flex-1 h-full max-w-4xl mx-auto overflow-hidden bg-white rounded-lg shadow-xl dark:bg-gray-800",children:Object(m.jsxs)("div",{className:"flex flex-col overflow-y-auto md:flex-row",children:[Object(m.jsxs)("div",{className:"h-32 md:h-auto md:w-1/2",children:[Object(m.jsx)("img",{"aria-hidden":"true",className:"object-cover w-full h-full dark:hidden",src:l,alt:"Office"}),Object(m.jsx)("img",{"aria-hidden":"true",className:"hidden object-cover w-full h-full dark:block",src:d,alt:"Office"})]}),Object(m.jsx)("main",{className:"flex items-center justify-center p-6 sm:p-12 md:w-1/2",children:Object(m.jsxs)("div",{className:"w-full",children:[Object(m.jsx)("h1",{className:"mb-6 text-2xl font-semibold text-gray-700 dark:text-gray-200",children:"Login"}),Object(m.jsxs)("form",{onSubmit:p(t),children:[Object(m.jsx)(c.a,{label:"Email"}),Object(m.jsx)(o.a,{register:a,defaultValue:"admin@gmail.com112",label:"Email",name:"email",type:"email",placeholder:"john@johndoe.com"}),Object(m.jsx)(i.a,{errorName:f.email}),Object(m.jsx)("div",{className:"mt-6"}),Object(m.jsx)(c.a,{label:"Password"}),Object(m.jsx)(o.a,{register:a,defaultValue:"123456782",label:"Password",name:"password",type:"password",placeholder:"***************"}),Object(m.jsx)(i.a,{errorName:f.password}),Object(m.jsx)(s.Button,{disabled:h,type:"submit",className:"mt-4 h-12 w-full",to:"/dashboard",children:e("LoginTitle")}),Object(m.jsx)("hr",{className:"my-10"})]}),Object(m.jsx)("p",{className:"mt-4",children:Object(m.jsx)(n.b,{className:"text-sm font-medium text-green-500 dark:text-green-400 hover:underline",to:"/forgot-password",children:e("ForgotPassword")})}),Object(m.jsx)("p",{className:"mt-1",children:Object(m.jsx)(n.b,{className:"text-sm font-medium text-green-500 dark:text-green-400 hover:underline",to:"/signup",children:e("CreateAccountTitle")})})]})})]})})})})}},166:function(e,t,a){"use strict";a(0);var n=a(3);t.a=e=>{let{errorName:t}=e;return Object(n.jsx)(n.Fragment,{children:t&&Object(n.jsx)("span",{className:"text-red-400 text-sm mt-2",children:t.message})})}},169:function(e,t,a){"use strict";a(0);var n=a(40),s=a(3);t.a=e=>{let{label:t}=e;return Object(s.jsx)(n.Label,{className:"col-span-4 sm:col-span-2 font-medium text-sm",children:t})}},199:function(e,t,a){"use strict";a(0);var n=a(40),s=a(3);t.a=e=>{let{register:t,defaultValue:a,required:r,name:i,label:c,type:o,placeholder:l,min:d,max:u,disabled:m}=e;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(n.Input,{...t(`${i}`,{required:!r&&`${c} is required!`}),defaultValue:a,type:o,placeholder:l,name:i,className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white",min:d,max:u,disabled:m})})}},236:function(e,t,a){"use strict";var n=a(99);const s={registerAdmin:async e=>n.a.post("/admin/signup",e),loginAdmin:async e=>n.a.post("/admin/login",e),forgetPassword:async e=>n.a.post("/forget-password",e),resetPassword:async e=>n.a.put("/admin/reset-password",e),signUpWithProvider:async e=>n.a.post("/admin/signup",e),addStaff:async e=>n.a.post("/admin/add",e),getAllStaff:async e=>n.a.get("/admin",e),getStaffById:async(e,t)=>n.a.post(`/admin/${e}`,t),updateStaff:async(e,t)=>n.a.put(`/admin/${e}`,t),updateStaffStatus:async(e,t)=>n.a.put(`/admin/update-status/${e}`,t),deleteStaff:async e=>n.a.delete(`/admin/${e}`)};t.a=s},740:function(e,t,a){"use strict";var n=a(18),s=a.n(n),r=a(0),i=a(237),c=a(6),o=a(26),l=a(236),d=a(42);t.a=()=>{const[e,t]=Object(r.useState)(!1),{dispatch:a}=Object(r.useContext)(o.a),n=Object(c.useHistory)(),[u,m]=Object(r.useState)(""),p=Object(c.useLocation)(),{register:f,handleSubmit:h,formState:{errors:g}}=Object(i.a)();return{onSubmit:e=>{let{name:r,email:i,verifyEmail:c,password:o,role:m}=e;t(!0);"/login"===p.pathname&&l.a.loginAdmin({email:i,password:o}).then((e=>{e&&(t(!1),Object(d.c)("Login Success!"),a({type:"USER_LOGIN",payload:e}),s.a.set("adminInfo",JSON.stringify(e),{expires:1e3}),n.replace("/"))})).catch((e=>{Object(d.b)(e?e.response.data.message:e.message),t(!1)})),"/signup"===p.pathname&&l.a.registerAdmin({name:r,email:i,password:o,phone:u}).then((e=>{e&&(t(!1),Object(d.c)("Register Success!"),a({type:"USER_LOGIN",payload:e}),s.a.set("adminInfo",JSON.stringify(e),{expires:1e3}),n.replace("/"))})).catch((e=>{Object(d.b)(e?e.response.data.message:e.message),t(!1)})),"/forgot-password"===p.pathname&&l.a.forgetPassword({email:c}).then((e=>{t(!1),Object(d.c)(e.message)})).catch((e=>{t(!1),Object(d.b)(e?e.response.data.message:e.message)}))},register:f,handleSubmit:h,errors:g,loading:e,setPhoneValue:m}}},99:function(e,t,a){"use strict";var n=a(164),s=a.n(n),r=a(18),i=a.n(r);const c=s.a.create({baseURL:"https://backend.kingsmankids.com/api",timeout:5e4,headers:{Accept:"application/json","Content-Type":"application/json"}});c.interceptors.request.use((function(e){let t,a;return i.a.get("adminInfo")&&(t=JSON.parse(i.a.get("adminInfo"))),i.a.get("company")&&(a=i.a.get("company")),{...e,headers:{authorization:t?`Bearer ${t.token}`:null,company:a||null}}})),c.interceptors.response.use((e=>e),(e=>(e.response&&401===e.response.status&&(console.log("Unauthorized access. Redirecting to login screen."),window.location.href="/login"),Promise.reject(e))));const o=e=>e.data,l={get:(e,t,a)=>c.get(e,t,a).then(o),post:(e,t)=>c.post(e,t).then(o),put:(e,t,a)=>c.put(e,t,a).then(o),patch:(e,t)=>c.patch(e,t).then(o),delete:(e,t)=>c.delete(e,t).then(o)};t.a=l}}]);
//# sourceMappingURL=38.1714a9d3.chunk.js.map