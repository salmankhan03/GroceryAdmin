(this["webpackJsonpecommerce-admin"]=this["webpackJsonpecommerce-admin"]||[]).push([[39],{101:function(e,t){var s,a,r=e.exports={};function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function c(e){if(s===setTimeout)return setTimeout(e,0);if((s===n||!s)&&setTimeout)return s=setTimeout,setTimeout(e,0);try{return s(e,0)}catch(t){try{return s.call(null,e,0)}catch(t){return s.call(this,e,0)}}}!function(){try{s="function"===typeof setTimeout?setTimeout:n}catch(e){s=n}try{a="function"===typeof clearTimeout?clearTimeout:o}catch(e){a=o}}();var i,l=[],d=!1,u=-1;function m(){d&&i&&(d=!1,i.length?l=i.concat(l):u=-1,l.length&&f())}function f(){if(!d){var e=c(m);d=!0;for(var t=l.length;t;){for(i=l,l=[];++u<t;)i&&i[u].run();u=-1,t=l.length}i=null,d=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===o||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{return a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];l.push(new p(e,t)),1!==l.length||d||c(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},1259:function(e,t,s){"use strict";s.r(t);var a=s(40),r=s(0),n=s(25),o=s(6),c=s(237),i=s(96),l=s(166),d=s(169),u=s(236),m=s(42),f=s(767),p=s(768),h=s(3);t.default=()=>{const{t:e}=Object(i.a)(),{token:t}=Object(o.useParams)(),s=Object(r.useRef)(""),[b,w]=Object(r.useState)(!1),{register:g,handleSubmit:j,watch:x,formState:{errors:y}}=Object(c.a)();s.current=x("newPassword");return Object(h.jsx)("div",{className:"flex items-center min-h-screen p-6 bg-gray-50 dark:bg-gray-900",children:Object(h.jsx)("div",{className:"flex-1 h-full max-w-4xl mx-auto overflow-hidden bg-white rounded-lg shadow-xl dark:bg-gray-800",children:Object(h.jsxs)("div",{className:"flex flex-col overflow-y-auto md:flex-row",children:[Object(h.jsxs)("div",{className:"h-32 md:h-auto md:w-1/2",children:[Object(h.jsx)("img",{"aria-hidden":"true",className:"object-cover w-full h-full dark:hidden",src:f.a,alt:"Office"}),Object(h.jsx)("img",{"aria-hidden":"true",className:"hidden object-cover w-full h-full dark:block",src:p.a,alt:"Office"})]}),Object(h.jsx)("main",{className:"flex items-center justify-center p-6 sm:p-12 md:w-1/2",children:Object(h.jsxs)("div",{className:"w-full",children:[Object(h.jsx)("h1",{className:"mb-4 text-xl font-semibold text-gray-700 dark:text-gray-200",children:e("ResetPassword")}),Object(h.jsxs)("form",{onSubmit:j((e=>{let{newPassword:s}=e;w(!0),u.a.resetPassword({newPassword:s,token:t}).then((e=>{w(!1),Object(m.c)(e.message)})).catch((e=>{w(!1),Object(m.b)(e?e.response.data.message:e.message)}))})),children:[Object(h.jsx)(d.a,{label:"Password"}),Object(h.jsx)(a.Input,{label:"Password",name:"newPassword",type:"password",placeholder:"Password",...g("newPassword",{required:"You must specify a password",minLength:{value:10,message:"Password must have at least 10 characters"}}),className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white"}),Object(h.jsx)(l.a,{errorName:y.newPassword}),Object(h.jsx)("div",{className:"mt-6"}),Object(h.jsx)(d.a,{label:"Confirm Password"}),Object(h.jsx)(a.Input,{label:"Confirm Password",name:"confirm_password",type:"password",placeholder:e("ConfirmPassword"),...g("confirm_password",{validate:e=>e===s.current||"The passwords do not match"}),className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white"}),Object(h.jsx)(l.a,{errorName:y.confirm_password}),Object(h.jsx)(a.Button,{disabled:b,type:"submit",block:!0,className:"mt-4 h-12",children:e("Reset")})]}),Object(h.jsx)("p",{className:"mt-4",children:Object(h.jsx)(n.b,{className:"text-sm font-medium text-green-500 dark:text-green-400 hover:underline",to:"/login",children:e("AlreadyAccount")})})]})})]})})})}},166:function(e,t,s){"use strict";s(0);var a=s(3);t.a=e=>{let{errorName:t}=e;return Object(a.jsx)(a.Fragment,{children:t&&Object(a.jsx)("span",{className:"text-red-400 text-sm mt-2",children:t.message})})}},169:function(e,t,s){"use strict";s(0);var a=s(40),r=s(3);t.a=e=>{let{label:t}=e;return Object(r.jsx)(a.Label,{className:"col-span-4 sm:col-span-2 font-medium text-sm",children:t})}},236:function(e,t,s){"use strict";var a=s(99);const r={registerAdmin:async e=>a.a.post("/admin/signup",e),loginAdmin:async e=>a.a.post("/admin/login",e),forgetPassword:async e=>a.a.post("/forget-password",e),resetPassword:async e=>a.a.put("/admin/reset-password",e),signUpWithProvider:async e=>a.a.post("/admin/signup",e),addStaff:async e=>a.a.post("/admin/add",e),getAllStaff:async e=>a.a.get("/admin",e),getStaffById:async(e,t)=>a.a.post(`/admin/${e}`,t),updateStaff:async(e,t)=>a.a.put(`/admin/${e}`,t),updateStaffStatus:async(e,t)=>a.a.put(`/admin/update-status/${e}`,t),deleteStaff:async e=>a.a.delete(`/admin/${e}`)};t.a=r},767:function(e,t,s){"use strict";t.a=s.p+"static/media/forgot-password-office.d1630a33.jpeg"},768:function(e,t,s){"use strict";t.a=s.p+"static/media/forgot-password-office-dark.d1630a33.jpeg"},99:function(e,t,s){"use strict";var a=s(164),r=s.n(a),n=s(18),o=s.n(n);const c=r.a.create({baseURL:"https://backend.kingsmankids.com/api",timeout:5e4,headers:{Accept:"application/json","Content-Type":"application/json"}});c.interceptors.request.use((function(e){let t,s;return o.a.get("adminInfo")&&(t=JSON.parse(o.a.get("adminInfo"))),o.a.get("company")&&(s=o.a.get("company")),{...e,headers:{authorization:t?`Bearer ${t.token}`:null,company:s||null}}})),c.interceptors.response.use((e=>e),(e=>(e.response&&401===e.response.status&&(console.log("Unauthorized access. Redirecting to login screen."),window.location.href="/login"),Promise.reject(e))));const i=e=>e.data,l={get:(e,t,s)=>c.get(e,t,s).then(i),post:(e,t)=>c.post(e,t).then(i),put:(e,t,s)=>c.put(e,t,s).then(i),patch:(e,t)=>c.patch(e,t).then(i),delete:(e,t)=>c.delete(e,t).then(i)};t.a=l}}]);
//# sourceMappingURL=39.eaa3f03a.chunk.js.map